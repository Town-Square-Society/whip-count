(this["webpackJsonpdog-team-picker"]=this["webpackJsonpdog-team-picker"]||[]).push([[0],{181:function(e,t,a){e.exports=a.p+"static/media/thp-logo.06259d61.png"},182:function(e,t,a){e.exports=a.p+"static/media/indivisible-logo.aab33f8a.png"},187:function(e,t,a){e.exports=a(361)},192:function(e,t,a){},213:function(e,t,a){},270:function(e,t,a){},281:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),l=(a(192),a(139),a(56)),s=(a(140),a(43)),i=(a(141),a(75)),u=(a(69),a(35)),d=a(136),m=a(97),h=a(98),p=a(111),f=a(110),g=(a(196),a(89)),E=a(46),w=a(83),S=a.n(w);a(198),a(201);S.a.initializeApp({apiKey:"AIzaSyDwZ41RWIytGELNBnVpDr7Y_k1ox2F2Heg",authDomain:"townhallproject-86312.firebaseapp.com",databaseURL:"https://townhallproject-86312.firebaseio.com",storageBucket:"townhallproject-86312.appspot.com",messagingSenderId:"208752196071",projectId:"townhallproject-86312"});var y=S.a.firestore(),v=S.a.database(),N=(a(203),a(183)),b=(a(205),a(113)),C=(a(363),a(90)),k=a(366),M=a(367),I=a(368),O=["Do not consider nominee - winner of 2020 Election should choose","Consider nominee but only after Election","Not on record","Consider new nominee","Other status","Unknown"],A={1:"#5e3c99",2:"#af90ea",3:"#c3c3c3",4:"#e66101"},x={1:"#5e3c99",2:"#af90ea",3:"#c3c3c3",4:"#e66101"},j=["Wait until 2021","Wait until after election","Not yet on record","Consider nominee now","Other","Unknown"].reduce((function(e,t,a,n){return e[a+1]=t,e}),{}),T=O.reduce((function(e,t,a,n){return e[a+1]=t,e}),{}),W=O.map((function(e,t){return{value:t+1,text:e}})),H=(a(213),C.a.Meta),D=function(e){var t,a=e.senator,n=e.visible,o=e.closeModal,c=e.townHalls;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{width:"80%",title:"Senator ".concat(a.displayName," (").concat(a.party[0],") ").concat(a.state),visible:n,onOk:o,onCancel:o,footer:null},r.a.createElement("div",{className:"modal-row"},r.a.createElement("div",{className:"left-container modal-col"},r.a.createElement(C.a,{style:{maxWidth:200},bordered:!1,className:"status__".concat(a.status," photo-card"),cover:r.a.createElement("img",{alt:"example",src:"https://www.govtrack.us/static/legislator-photos/".concat(a.govtrack_id,"-200px.jpeg")})},r.a.createElement(H,{description:"Position: ".concat(T[a.status])}))),r.a.createElement("div",{className:"right-container modal-col"},a.quote&&(t=a.quote,r.a.createElement(r.a.Fragment,null,t.year&&r.a.createElement("p",{className:"quote-year"},"Statement in ",t.year),r.a.createElement("p",{className:"quote"},t.text),t.citation&&r.a.createElement("p",{className:"quote-citation"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.citation},"Link to citation")))),r.a.createElement(C.a,{title:"Contact:",actions:[a.socials.facebook&&r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://facebook.com/".concat(a.socials.facebook)},r.a.createElement(k.a,null)),a.socials.twitter&&r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/".concat(a.socials.twitter)},r.a.createElement(M.a,null)),a.socials.url&&r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.socials.url},r.a.createElement(I.a,null))]},r.a.createElement("p",null,a.contact.address),r.a.createElement("p",null,a.contact.phone)),c.length>0&&function(e){return r.a.createElement(C.a,{title:"Attend an event"},r.a.createElement(b.b,{itemLayout:"vertical",dataSource:e,renderItem:function(e){return console.log(e),r.a.createElement(b.b.Item,{extra:e.link?r.a.createElement("a",{href:e.link},e.linkName||"More info"):[]},r.a.createElement(b.b.Item.Meta,{title:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://townhallproject.com/".concat(e.eventId)},e.eventName),description:"".concat(e.meetingType," at ").concat(e.Time," on ").concat(e.dateString)}))}}))}(c)))))},L=a(134),P=(a(144),a(65)),R=a(369),F=["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MP","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"],V=P.a.Option,_=Object(E.map)({AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},(function(e,t){return{id:t,displayName:e}})),K=function(e){var t=e.senators,a=e.selectSenator,n=e.handleStateSearch,o=e.handleReset;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Where do your Senators stand?"),r.a.createElement(P.a,{showSearch:!0,style:{width:300},allowClear:!0,showArrow:!1,suffixIcon:r.a.createElement(R.a,null),placeholder:"Search Senator's name or state",optionFilterProp:"children",onChange:function(e){F.includes(e)&&n(e);var r=Object(E.find)(t,{id:e});r&&a(r)},onFocus:function(){},onBlur:function(){},onSearch:function(e){},onClear:o,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0||t.value.toLowerCase().indexOf(e.toLowerCase())>=0}},[].concat(Object(L.a)(t),Object(L.a)(_)).map((function(e){return r.a.createElement(V,{key:e.id},e.displayName)}))))},B=(a(270),a(271),a(186)),U=(a(273),a(185)),Y=(a(275),a(184)),z=(a(362),a(133)),G=a(131),J=a.n(G),q=(a(281),z.a.Column),Z=function(e){return function(t,a){return t[e]>a[e]?1:t[e]<a[e]?-1:0}},Q=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getSearchProps=function(e){return{filterDropdown:function(t){var a=t.setSelectedKeys,o=t.selectedKeys,c=t.confirm,l=t.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(Y.a,{ref:function(e){n.searchInput=e},placeholder:"Search ".concat(e),value:o[0],onChange:function(e){return a(e.target.value?[e.target.value]:[])},onPressEnter:function(){return n.props.handleSearch(o,c,e)},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(U.b,null,r.a.createElement(u.a,{type:"primary",onClick:function(){return n.props.handleSearch(o,c,e)},icon:r.a.createElement(R.a,null),size:"small",style:{width:90}},"Search"),r.a.createElement(u.a,{onClick:function(){return n.props.handleReset(l)},size:"small",style:{width:90}},"Reset")))},filterIcon:function(e){return r.a.createElement(R.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,a){return a[e]?a[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return n.searchInput.select()}),100)},render:function(t){return n.props.searchedColumn===e?r.a.createElement(J.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[n.props.searchText],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},n.state={windowWidth:0},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",(function(){e.setState({windowWidth:window.innerWidth})}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.senators,n=t.height;return r.a.createElement(z.a,{dataSource:a,rowKey:"id",pagination:!1,sticky:!0,scroll:{x:!0,y:n||"60vh"}},r.a.createElement(q,{title:"Name",dataIndex:"displayName",key:"displayName",sorter:Z("last_name"),render:function(t,a){var n=e.state.windowWidth<768?"".concat(a.displayName," (").concat(a.party[0],") ").concat(a.state):t;return e.props.searchedSenator===t?r.a.createElement(J.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[e.props.searchedSenator],autoEscape:!0,textToHighlight:n?t.toString():""}):n}}),r.a.createElement(q,Object.assign({},this.getSearchProps("state"),{title:"State",dataIndex:"state",width:100,key:"state",sorter:Z("state"),responsive:["md"]})),r.a.createElement(q,{title:"Party",dataIndex:"party",key:"party",sorter:Z("party"),responsive:["md"]}),r.a.createElement(q,{title:"Position",dataIndex:"status",key:"status",filters:W,onFilter:function(e,t){return t.status.includes(e)},sorter:Z("status"),render:function(e){return r.a.createElement(B.a,{color:A[e],key:e},T[e])}}),r.a.createElement(q,{title:"See More",key:"see-more",render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{onClick:function(){return e.props.openModal(t)}},"Details"))}}))}}]),a}(r.a.Component),X=(a(360),function(e){var t=e.senateMapByStatus;return r.a.createElement("div",{className:"progress-bar-container"},r.a.createElement("div",{className:"progress-bar"},Object(E.map)(t,(function(e,t){return r.a.createElement("div",{key:"progress-".concat(t),style:{flexBasis:"".concat(e.length,"%"),background:x[t],height:20,color:"white"}},e.length)}))),r.a.createElement("div",{className:"half-way"}))}),$=a(181),ee=a.n($),te=a(182),ae=a.n(te),ne=g.a.Header,re=g.a.Content,oe=g.a.Footer,ce={1:"right",2:"top",3:"top",4:"left"},le=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={senators:[],modalSenator:null,searchText:"",searchedColumn:""},e.componentDidMount=function(){v.ref("townHalls").once("value").then((function(t){var a=[];t.forEach((function(e){a.push(e.val())})),e.setState({townHalls:a})})),y.collection("whip_count_2020").get().then((function(t){var a=[];t.forEach((function(e){var t=Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id});a.push(t)})),a.sort(Z("state")),e.setState({senators:a})})),e.getTableHight(),window.addEventListener("resize",(function(){return e.getTableHight()}))},e.handleStateSearch=function(t){e.setState({searchText:t,searchedColumn:"state"})},e.getTableHight=function(){var t=document.getElementsByClassName("all-status-container"),a=document.getElementsByClassName("ant-layout-footer"),n=document.getElementsByClassName("progress-bar-container"),r=document.getElementsByClassName("ant-table-thead");if(t[0]&&n[0]&&r[0]&&a[0]){var o=t[0].scrollHeight+n[0].scrollHeight+a[0].scrollHeight+r[0].scrollHeight,c=window.innerHeight-o;e.setState({tableHeight:c})}},e.handleSearch=function(t,a,n){a(),e.setState({searchText:t[0],searchedColumn:n})},e.handleReset=function(t){t&&t(),e.setState({searchText:"",searchedSenator:""})},e.scrollTo=function(e,t){var a=document.querySelector('[data-row-key="'.concat(e,'"]'));a&&a.scrollIntoView(t)},e.renderModal=function(){var t=e.state,a=t.modalSenator,n=t.townHalls;if(!a)return null;var o=Object(E.filter)(n,{officePersonId:a.id});return r.a.createElement(D,{visible:!0,senator:a,townHalls:o,closeModal:e.closeModal})},e.openModal=function(t){e.setState({modalSenator:t})},e.selectSenator=function(t){e.scrollTo(t.id),e.openModal(t),e.setState({searchedSenator:t.displayName})},e.closeModal=function(){e.setState({modalSenator:null})},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state.senators.reduce((function(e,t){var a=t.status;return e[a]?e[a].push(t):e[a]=[t],e}),{}),a=function(e,t,a){return t&&a?Object(E.filter)(e,(function(e){return e[t].toLowerCase()===a.toLowerCase()})):e}(this.state.senators,this.state.searchedColumn,this.state.searchText);return r.a.createElement(g.a,{className:"App"},r.a.createElement("div",{className:"title-bar"},r.a.createElement("h1",null,"SCOTUS Vacancy - Senate Whip Count")),r.a.createElement(ne,null,r.a.createElement(K,{handleStateSearch:this.handleStateSearch,senators:this.state.senators,selectSenator:this.selectSenator,handleReset:this.handleReset}),r.a.createElement(u.a,{ghost:!0,target:"_blank",href:"https://docs.google.com/forms/d/e/1FAIpQLScH8KYmrnWScWJr1v3jUwMdxP5ekN5x0IZ05Q23J7SxoDoQrw/viewform"},"Submit position update")),r.a.createElement(re,{className:"team"},r.a.createElement(l.a,{className:"all-status-container"},Object(E.map)(t,(function(t,a){return r.a.createElement(s.a,{key:a,flex:"1 1 auto",className:"status-col status__".concat(a)},r.a.createElement("h3",null,"".concat(j[a]," (").concat(t.length,")")),r.a.createElement("div",{className:"status-container"},Object(E.map)(t,(function(t){return r.a.createElement(i.a,{key:t.id,placement:ce[a],title:"Sen. ".concat(t.displayName," (").concat(t.party[0],") ").concat(t.state)},r.a.createElement("div",{className:["image-container",t.party.toLowerCase()].join(" "),onClick:function(){return e.selectSenator(t)}},r.a.createElement("img",{width:200,alt:"".concat(t.displayName),src:"https://www.govtrack.us/static/legislator-photos/".concat(t.govtrack_id,"-100px.jpeg")})))}))))}))),t[1]&&r.a.createElement(X,{senateMapByStatus:t}),r.a.createElement(l.a,{className:"table-container",gutter:16},r.a.createElement(Q,{senators:a,getSearchProps:this.getSearchProps,handleSearch:this.handleSearch,handleReset:this.handleReset,searchedColumn:this.state.searchedColumn,searchText:this.state.searchText,openModal:this.openModal,searchedSenator:this.state.searchedSenator,height:this.state.tableHeight}),this.renderModal())),r.a.createElement(oe,null,r.a.createElement("div",null,"A joint project of"," ",r.a.createElement("img",{className:"logo",alt:"town hall project",src:ee.a})," and"," ",r.a.createElement("img",{className:"logo",alt:"indivisible",src:ae.a})),r.a.createElement("div",null,r.a.createElement(u.a,{href:"mailto:info@townhallproject.com",type:"primary"},"Contact"))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[187,1,2]]]);
//# sourceMappingURL=main.a4229d0e.chunk.js.map