(this["webpackJsonpdog-team-picker"]=this["webpackJsonpdog-team-picker"]||[]).push([[0],{178:function(e,t,a){e.exports=a(344)},183:function(e,t,a){},212:function(e,t,a){},269:function(e,t,a){},344:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),c=a.n(r),l=(a(183),a(87),a(41)),s=(a(185),a(177)),i=(a(130),a(54)),u=(a(131),a(42)),m=(a(188),a(176)),d=a(128),p=a(154),f=a(155),h=a(175),E=a(174),w=(a(190),a(106)),g=(a(345),a(126)),v=a(74),k=a(80),y=a.n(k);a(201),a(204);y.a.initializeApp({apiKey:"AIzaSyDwZ41RWIytGELNBnVpDr7Y_k1ox2F2Heg",authDomain:"townhallproject-86312.firebaseapp.com",databaseURL:"https://townhallproject-86312.firebaseio.com",storageBucket:"townhallproject-86312.appspot.com",messagingSenderId:"208752196071",projectId:"townhallproject-86312"});var b=y.a.firestore(),S=y.a.database(),N=(a(206),a(173)),j=(a(208),a(107)),_=(a(346),a(86)),x=a(350),I=a(351),O=a(352),M=["Do not consider nominee - winner of 2020 Election should choose","Consider nominee but only after Election","Not on record","Consider new nominee","Other status","Unknown"],C={1:"#5e3c99",2:"#b2abd2",3:"#7a7688",4:"#e66101"},F=M.reduce((function(e,t,a,n){return e[a+1]=t,e}),{}),H=M.map((function(e,t){return{value:t+1,text:e}})),L=(a(212),_.a.Meta),D=function(e){var t=e.senator,a=e.visible,n=e.closeModal,r=e.townHalls;return o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{width:"80%",title:"Senator ".concat(t.displayName," (").concat(t.party[0],")"),visible:a,onOk:n,onCancel:n,footer:null},o.a.createElement("div",{className:"modal-row"},o.a.createElement("div",{className:"left-container modal-col"},o.a.createElement(_.a,{style:{maxWidth:200},bordered:!1,className:"status__".concat(t.status),cover:o.a.createElement("img",{alt:"example",src:"https://www.govtrack.us/static/legislator-photos/".concat(t.govtrack_id,"-200px.jpeg")})},o.a.createElement(L,{description:"Position: ".concat(F[t.status])}))),o.a.createElement("div",{className:"right-container modal-col"},t.quote&&o.a.createElement("p",{className:"quote"},t.quote.text),o.a.createElement(_.a,{title:"Contact the senator:",actions:[t.socials.facebook&&o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://facebook.com/".concat(t.socials.facebook)},o.a.createElement(x.a,null)),t.socials.twitter&&o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/".concat(t.socials.twitter)},o.a.createElement(I.a,null)),t.socials.url&&o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.socials.url},o.a.createElement(O.a,null))]},o.a.createElement("p",null,t.contact.address),o.a.createElement("p",null,t.contact.phone)),r.length>0&&function(e){return o.a.createElement(_.a,{title:"Attend an event"},o.a.createElement(j.b,{itemLayout:"vertical",dataSource:e,renderItem:function(e){return console.log(e),o.a.createElement(j.b.Item,{extra:e.link?o.a.createElement("a",{href:e.link},e.linkName||"More info"):[]},o.a.createElement(j.b.Item.Meta,{title:o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://townhallproject.com/".concat(e.eventId)},e.eventName),description:"".concat(e.meetingType," at ").concat(e.Time," on ").concat(e.dateString)}))}}))}(r)))))},A=(a(134),a(60)),B=A.a.Option,T=function(e){var t=e.senators,a=(e.states,e.selectSenator);return o.a.createElement(A.a,{showSearch:!0,style:{width:200},placeholder:"Search for your Senator",optionFilterProp:"children",onChange:function(e){console.log("selected ".concat(e));var n=Object(v.find)(t,{id:e});n&&a(n)},onFocus:function(){},onBlur:function(){},onSearch:function(e){},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},t.map((function(e){return o.a.createElement(B,{key:e.id},e.displayName)})))},q=(a(269),g.a.Column),P=w.a.Header,W=w.a.Content,z=function(e){return function(t,a){return t[e]>a[e]?1:t[e]<a[e]?-1:0}},J=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={senators:[],modalSenator:null},e.componentDidMount=function(){S.ref("townHalls").once("value").then((function(t){var a=[];t.forEach((function(e){a.push(e.val())})),e.setState({townHalls:a})})),b.collection("whip_count_2020").get().then((function(t){var a=[];t.forEach((function(e){var t=Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id});a.push(t)})),a.sort(z("state")),e.setState({senators:a})}))},e.scrollTo=function(e,t){console.log(e),document.querySelector('[data-row-key="'.concat(e,'"]')).scrollIntoView(t)},e.renderModal=function(){var t=e.state,a=t.modalSenator,n=t.townHalls;if(!a)return null;var r=Object(v.filter)(n,{officePersonId:a.id});return o.a.createElement(D,{visible:!0,senator:a,townHalls:r,closeModal:e.closeModal})},e.selectSenator=function(t){e.scrollTo(t.id),e.openModal(t)},e.openModal=function(t){e.setState({modalSenator:t})},e.closeModal=function(){e.setState({modalSenator:null})},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state.senators.reduce((function(e,t){var a=t.status;return e[a]?e[a].push(t):e[a]=[t],e}),{});return o.a.createElement(w.a,{className:"App"},o.a.createElement(P,null,o.a.createElement(T,{senators:this.state.senators,selectSenator:this.selectSenator})),o.a.createElement(W,{className:"team"},o.a.createElement(i.a,{className:"all-status-container"},Object(v.map)(t,(function(t,a){return o.a.createElement(u.a,{key:a,flex:"1 1 auto",className:"status-col status__".concat(a)},o.a.createElement("h3",null,"".concat(F[a]," (").concat(t.length,")")),o.a.createElement("div",{className:"status-container"},Object(v.map)(t,(function(t){return o.a.createElement(m.a,{key:t.id,content:o.a.createElement("p",null,t.party," ",t.state),title:"Sen. ".concat(t.displayName)},o.a.createElement("div",{className:["image-container",t.party.toLowerCase()].join(" "),onClick:function(){return e.scrollTo(t.id,{behavior:"smooth"})}},o.a.createElement("img",{width:200,src:"https://www.govtrack.us/static/legislator-photos/".concat(t.govtrack_id,"-100px.jpeg")})))}))))}))),o.a.createElement(i.a,{className:"table-container",gutter:16},o.a.createElement(g.a,{dataSource:this.state.senators,rowKey:"id",pagination:!1,sticky:!0,scroll:{x:!0,y:"60vh"}},o.a.createElement(q,{title:"First Name",dataIndex:"first_name",key:"first_name"}),o.a.createElement(q,{title:"Last Name",dataIndex:"last_name",key:"last_name",sorter:z("last_name")}),o.a.createElement(q,{title:"State",dataIndex:"state",key:"state",sorter:z("state")}),o.a.createElement(q,{title:"Party",dataIndex:"party",key:"party",sorter:z("party")}),o.a.createElement(q,{title:"Status",dataIndex:"status",key:"status",filters:H,onFilter:function(e,t){return console.log(t,e),t.status.includes(e)},sorter:z("status"),render:function(e){return o.a.createElement(s.a,{color:C[e],key:e},F[e])}}),o.a.createElement(q,{title:"See More",key:"see-more",render:function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{onClick:function(){return e.openModal(t)}},"Details"))}})),this.renderModal())))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[178,1,2]]]);
//# sourceMappingURL=main.0fa6c3a1.chunk.js.map